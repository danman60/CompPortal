@tailwind base;
@tailwind components;
@tailwind utilities;

/* Light Theme (default) */
:root,
html.light {
  --foreground-rgb: 15, 23, 42; /* slate-900 */
  --background-start-rgb: 248, 250, 252; /* slate-50 */
  --background-end-rgb: 241, 245, 249; /* slate-100 */

  /* Tenant-specific theme colors (dynamically updated) */
  --tenant-primary: #6366F1;
  --tenant-secondary: #8B5CF6;
  --tenant-accent: #F59E0B;
}

/* Dark Theme */
html.dark {
  --foreground-rgb: 255, 255, 255;
  --background-start-rgb: 0, 0, 0;
  --background-end-rgb: 0, 0, 0;

  /* Tenant-specific theme colors (dynamically updated) */
  --tenant-primary: #6366F1;
  --tenant-secondary: #8B5CF6;
  --tenant-accent: #F59E0B;
}

body {
  color: rgb(var(--foreground-rgb));
  background: linear-gradient(
      to bottom,
      transparent,
      rgb(var(--background-end-rgb))
    )
    rgb(var(--background-start-rgb));
}

@layer components {
  /* Mobile-first touch targets - minimum 44px height for accessibility */
  .btn {
    @apply min-h-[44px] px-4 py-3 rounded-lg font-semibold transition-all;
  }

  .btn-sm {
    @apply min-h-[44px] px-3 py-2.5 rounded-lg font-semibold transition-all;
  }

  /* Ensure all interactive elements meet touch target guidelines */
  button,
  a[role="button"],
  input[type="button"],
  input[type="submit"] {
    @apply min-h-[44px];
  }

  /* Form inputs with proper touch targets */
  input[type="text"],
  input[type="email"],
  input[type="password"],
  input[type="number"],
  input[type="tel"],
  input[type="url"],
  select,
  textarea {
    @apply min-h-[44px];
  }
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }

  /* Touch-friendly spacing utilities */
  .touch-target {
    @apply min-h-[44px] min-w-[44px];
  }
}

/* Print Stylesheets - Optimize for professional printing */
@media print {
  /* Reset background and colors for print */
  * {
    background: white !important;
    color: black !important;
    box-shadow: none !important;
    text-shadow: none !important;
  }

  body {
    background: white !important;
    color: black !important;
  }

  /* Hide navigation, buttons, and interactive elements */
  nav,
  .no-print,
  button:not(.print-keep),
  a[role="button"]:not(.print-keep),
  input[type="button"]:not(.print-keep),
  input[type="submit"]:not(.print-keep) {
    display: none !important;
  }

  /* Show only main content */
  main {
    margin: 0;
    padding: 20px;
  }

  /* Optimize text for printing */
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
    color: black !important;
  }

  p, li {
    orphans: 3;
    widows: 3;
  }

  /* Table printing */
  table {
    border-collapse: collapse;
    width: 100%;
    page-break-inside: avoid;
  }

  thead {
    display: table-header-group;
  }

  tr {
    page-break-inside: avoid;
  }

  th, td {
    border: 1px solid #ddd !important;
    padding: 8px !important;
    text-align: left;
  }

  th {
    background: #f5f5f5 !important;
    font-weight: bold !important;
  }

  /* Links - show URL after text */
  a[href]:after {
    content: " (" attr(href) ")";
    font-size: 0.8em;
    color: #666 !important;
  }

  /* Don't show URLs for internal links */
  a[href^="#"]:after,
  a[href^="/"]:after {
    content: "";
  }

  /* Invoice-specific styles */
  .invoice-header {
    margin-bottom: 30px;
    border-bottom: 2px solid #000 !important;
    padding-bottom: 20px;
  }

  .invoice-total {
    font-size: 1.5em !important;
    font-weight: bold !important;
    margin-top: 20px;
    border-top: 2px solid #000 !important;
    padding-top: 15px;
  }

  /* Page break utilities */
  .page-break-before {
    page-break-before: always;
  }

  .page-break-after {
    page-break-after: always;
  }

  .page-break-avoid {
    page-break-inside: avoid;
  }

  /* Ensure glassmorphic cards are visible */
  .backdrop-blur-md,
  .bg-white\/10,
  .bg-white\/5 {
    background: white !important;
    border: 1px solid #ddd !important;
  }

  /* Convert gradient text to black */
  .text-purple-400,
  .text-purple-500,
  .text-pink-400,
  .text-pink-500,
  .text-green-400,
  .text-green-500,
  .text-yellow-400,
  .text-yellow-500,
  .text-blue-400,
  .text-blue-500 {
    color: black !important;
  }

  /* Important amounts should be bold */
  .text-green-400,
  .text-2xl,
  .text-3xl,
  .text-4xl {
    font-weight: bold !important;
  }

  /* Hide mobile-only elements */
  .md\:hidden {
    display: none !important;
  }

  /* Show desktop table views */
  .hidden.md\:block {
    display: block !important;
  }

  /* Optimize spacing */
  .container {
    max-width: 100% !important;
    padding: 0 !important;
  }

  /* Remove shadows and blurs */
  .shadow-lg,
  .shadow-xl,
  .hover\:shadow-lg {
    box-shadow: none !important;
  }
}

/* Font Size Preferences - Accessibility */
html.font-size-small {
  font-size: 14px;
}

html.font-size-medium {
  font-size: 16px; /* Default */
}

html.font-size-large {
  font-size: 18px;
}

/* Apply responsive scaling with font size preferences */
@media (max-width: 768px) {
  html.font-size-small {
    font-size: 13px;
  }

  html.font-size-large {
    font-size: 17px;
  }
}

/* Page Transition Animations - Smooth navigation UX */
@layer base {
  /* Smooth fade-in for all pages */
  body > div {
    animation: fadeIn 0.2s ease-in;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  /* View Transitions API support (Chrome 111+) */
  @supports (view-transition-name: none) {
    ::view-transition-old(root),
    ::view-transition-new(root) {
      animation-duration: 0.3s;
    }
  }
}

/* Loading State Animations */
@layer utilities {
  /* Smooth opacity transitions */
  .transition-opacity-smooth {
    transition: opacity 0.2s ease-in-out;
  }

  /* Prevent flash of content during redirects */
  .redirect-fade {
    animation: redirectFade 0.3s ease-out forwards;
  }

  @keyframes redirectFade {
    0% {
      opacity: 1;
    }
    100% {
      opacity: 0;
    }
  }

  /* Skeleton pulse animation */
  @keyframes pulse {
    0%, 100% {
      opacity: 1;
    }
    50% {
      opacity: 0.5;
    }
  }

  .animate-fade-in {
    animation: fadeIn 0.4s ease-in;
  }
}

/* Smooth scroll behavior */
html {
  scroll-behavior: smooth;
}
