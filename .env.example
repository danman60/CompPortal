# Next.js Public Environment Variables
# IMPORTANT: Set to your production URL in Vercel environment variables
# Local: http://localhost:3000
# Production: https://comp-portal-one.vercel.app
NEXT_PUBLIC_APP_URL=http://localhost:3000

# Database - Supabase Pooler connection (port 6543) for production/serverless
# CRITICAL: Username MUST be in postgres.PROJECT_REF format
# CRITICAL: Check Supabase dashboard for YOUR pooler hostname (region varies by project)
DATABASE_URL="postgresql://postgres.PROJECT_REF:PASSWORD@aws-1-us-east-2.pooler.supabase.com:6543/postgres?pgbouncer=true&connection_limit=1"

# Direct connection for Prisma migrations/introspection (port 5432)
# Used for migrations only - direct DB access
DIRECT_URL="postgresql://postgres:PASSWORD@db.PROJECT_REF.supabase.co:5432/postgres?sslmode=require"

# Supabase
NEXT_PUBLIC_SUPABASE_URL=https://PROJECT_REF.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_anon_key_here
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key_here
# JWT Secret for WebSocket authentication (get from: Supabase Dashboard → Settings → API → JWT Settings)
SUPABASE_JWT_SECRET=your_jwt_secret_here

# Sentry Error Tracking
# Get your DSN from: https://sentry.io/settings/[org]/projects/[project]/keys/
NEXT_PUBLIC_SENTRY_DSN=https://your_key@o_your_org.ingest.us.sentry.io/your_project_id
SENTRY_ORG=your_organization_slug
SENTRY_PROJECT=your_project_name
# Auth token for uploading source maps (get from: https://sentry.io/settings/account/api/auth-tokens/)
SENTRY_AUTH_TOKEN=your_auth_token_here

# CDN Configuration (Optional - Cloudflare or CloudFront)
# Enable CDN for static assets (images, CSS, JS)
NEXT_PUBLIC_CDN_ENABLED=false
NEXT_PUBLIC_CDN_URL=https://cdn.compsync.net

# CDN Asset Types (Optional - defaults to true for all)
NEXT_PUBLIC_CDN_IMAGES=true
NEXT_PUBLIC_CDN_CSS=true
NEXT_PUBLIC_CDN_JS=true

# CDN Cache Control (Optional - defaults to 1 year immutable)
CDN_CACHE_IMAGES="public, max-age=31536000, immutable"
CDN_CACHE_CSS="public, max-age=31536000, immutable"
CDN_CACHE_JS="public, max-age=31536000, immutable"

# Cloudflare CDN Credentials (for cache purging and statistics)
CLOUDFLARE_ZONE_ID=your_zone_id_here
CLOUDFLARE_API_TOKEN=your_api_token_here

# CloudFront CDN Credentials (for cache invalidation)
CLOUDFRONT_DISTRIBUTION_ID=your_distribution_id_here
AWS_ACCESS_KEY_ID=your_access_key_here
AWS_SECRET_ACCESS_KEY=your_secret_key_here
AWS_REGION=us-east-1

# Redis Caching Layer (Optional - improves performance)
# Enable Redis for caching frequent queries
REDIS_ENABLED=false
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=your_redis_password_here
REDIS_DB=0
REDIS_KEY_PREFIX=compportal:

# Redis Cache TTL (Time-To-Live in seconds)
REDIS_TTL_COMPETITIONS=300    # 5 minutes
REDIS_TTL_STUDIOS=600          # 10 minutes
REDIS_TTL_DANCERS=300          # 5 minutes
REDIS_TTL_ENTRIES=180          # 3 minutes
REDIS_TTL_RESERVATIONS=180     # 3 minutes
REDIS_TTL_INVOICES=300         # 5 minutes
REDIS_TTL_ANALYTICS=3600       # 1 hour

# Upstash Redis for Rate Limiting (Optional - prevents abuse)
# Get credentials from: https://upstash.com (free tier: 10k requests/day)
# Used for rate limiting API requests, preventing brute force, and resource protection
UPSTASH_REDIS_REST_URL=https://your-redis-endpoint.upstash.io
UPSTASH_REDIS_REST_TOKEN=your_upstash_token_here

# Email Configuration (SMTP)
# Configure SMTP server for transactional emails
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your_smtp_username
SMTP_PASS=your_smtp_password

# Email Addresses
EMAIL_FROM=noreply@compsync.net
SUPPORT_EMAIL=support@compsync.net
CONTACT_EMAIL=contact@compsync.net

# Inbound Email Webhook Security
# Secret key for validating inbound email webhooks (e.g., from n8n)
INBOUND_EMAIL_SECRET=your_webhook_secret_here

# Two-Factor Authentication
# Encryption key for 2FA secrets (generate with: openssl rand -hex 32)
TWO_FACTOR_ENCRYPTION_KEY=your_32_byte_hex_encryption_key_here
