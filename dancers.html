<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dancers - GlowDance Competition Portal</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <script src="js/supabase-config.js"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: {
                            50: '#fdf4ff',
                            100: '#fae8ff',
                            500: '#a855f7',
                            600: '#9333ea',
                            700: '#7c3aed',
                        },
                        dance: {
                            pink: '#ec4899',
                            purple: '#8b5cf6',
                            gold: '#f59e0b',
                            blue: '#3b82f6'
                        }
                    }
                }
            }
        }
    </script>
</head>
<body class="min-h-screen bg-gradient-to-br from-slate-900 via-gray-900 to-black">
    <!-- Background Animation -->
    <div class="absolute inset-0 overflow-hidden">
        <div class="absolute -inset-10 opacity-10">
            <div class="absolute top-1/4 left-1/4 w-96 h-96 bg-dance-pink rounded-full mix-blend-soft-light filter blur-3xl opacity-20 animate-pulse"></div>
            <div class="absolute top-1/3 right-1/4 w-96 h-96 bg-dance-purple rounded-full mix-blend-soft-light filter blur-3xl opacity-20 animate-pulse animation-delay-2000"></div>
            <div class="absolute bottom-1/4 left-1/3 w-96 h-96 bg-dance-gold rounded-full mix-blend-soft-light filter blur-3xl opacity-20 animate-pulse animation-delay-4000"></div>
        </div>
    </div>

    <!-- Navigation Header -->
    <nav class="relative bg-white/10 backdrop-blur-md shadow-sm border-b border-white/20">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <!-- Logo and Brand -->
                <div class="flex items-center">
                    <div class="flex-shrink-0 flex items-center">
                        <div class="h-8 w-8 bg-gradient-to-br from-dance-pink to-dance-purple rounded-lg flex items-center justify-center">
                            <i class="fas fa-star text-white text-sm"></i>
                        </div>
                        <span class="ml-3 text-xl font-semibold text-white">GlowDance</span>
                    </div>

                    <!-- Main Navigation -->
                    <div class="hidden md:block ml-10">
                        <div class="flex items-baseline space-x-4">
                            <a href="sample-dashboard.html" class="text-gray-300 hover:text-white hover:bg-white/10 px-3 py-2 rounded-md text-sm font-medium transition-colors">Dashboard</a>
                            <a href="studios.html" class="text-gray-300 hover:text-white hover:bg-white/10 px-3 py-2 rounded-md text-sm font-medium transition-colors">Studios</a>
                            <a href="dancers.html" class="bg-white/20 text-white px-3 py-2 rounded-md text-sm font-medium">Dancers</a>
                            <a href="reservations.html" class="text-gray-300 hover:text-white hover:bg-white/10 px-3 py-2 rounded-md text-sm font-medium transition-colors">Reservations</a>
                            <a href="reports.html" class="text-gray-300 hover:text-white hover:bg-white/10 px-3 py-2 rounded-md text-sm font-medium transition-colors">Reports</a>
                        </div>
                    </div>
                </div>

                <!-- User Menu -->
                <div class="flex items-center space-x-4">
                    <!-- Notifications -->
                    <button class="text-gray-300 hover:text-white relative">
                        <i class="fas fa-bell text-xl"></i>
                        <span class="absolute -top-1 -right-1 h-3 w-3 bg-red-500 rounded-full"></span>
                    </button>

                    <!-- User Profile -->
                    <div class="flex items-center space-x-3">
                        <div class="text-right">
                            <p class="text-sm font-medium text-white">Uxbridge Dance Academy</p>
                            <p class="text-xs text-gray-300">Emily Einsmann</p>
                        </div>
                        <div class="h-10 w-10 bg-gradient-to-br from-dance-gold to-dance-pink rounded-full flex items-center justify-center text-white font-medium">
                            UDA
                        </div>
                    </div>

                    <!-- Logout -->
                    <button class="text-gray-300 hover:text-white ml-4">
                        <i class="fas fa-sign-out-alt text-xl"></i>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="relative max-w-7xl mx-auto py-6 sm:px-6 lg:px-8">
        <!-- Page Header -->
        <div class="px-4 py-4 sm:px-0">
            <div class="flex items-center justify-between mb-6">
                <div>
                    <h1 class="text-3xl font-bold text-white flex items-center">
                        <i class="fas fa-users mr-3 text-dance-pink"></i>
                        Dancer Management
                    </h1>
                    <p class="mt-2 text-gray-300">Manage your dancers and competition entries</p>
                </div>
                <div class="flex space-x-3">
                    <select id="sortDancers" class="bg-white/10 border border-white/20 text-white px-4 py-2 rounded-lg font-medium focus:outline-none focus:ring-2 focus:ring-dance-purple/50">
                        <option value="name">Sort by Name</option>
                        <option value="age">Sort by Age</option>
                        <option value="style">Sort by Style</option>
                        <option value="experience">Sort by Experience</option>
                    </select>
                    <button class="bg-white/10 hover:bg-white/20 text-white border border-white/20 px-4 py-2 rounded-lg font-medium transition-all duration-200 flex items-center">
                        <i class="fas fa-upload mr-2"></i>
                        Import Dancers
                    </button>
                    <button id="addDancerBtn" class="bg-gradient-to-r from-dance-purple to-dance-pink hover:from-dance-pink hover:to-dance-purple text-white px-4 py-2 rounded-lg font-medium transition-all duration-200 flex items-center">
                        <i class="fas fa-plus mr-2"></i>
                        Add Dancer
                    </button>
                </div>
            </div>
        </div>

        <!-- Stats Overview -->
        <div class="px-4 sm:px-0 grid md:grid-cols-4 gap-6 mb-8">
            <div class="bg-white/10 backdrop-blur-md rounded-2xl border border-white/20 p-6">
                <div class="flex items-center">
                    <div class="p-3 rounded-lg bg-dance-pink/20 border border-dance-pink/30">
                        <i class="fas fa-users text-dance-pink text-xl"></i>
                    </div>
                    <div class="ml-4">
                        <p class="text-sm font-medium text-gray-300">Total Dancers</p>
                        <p class="text-2xl font-bold text-white">12</p>
                    </div>
                </div>
            </div>

            <div class="bg-white/10 backdrop-blur-md rounded-2xl border border-white/20 p-6">
                <div class="flex items-center">
                    <div class="p-3 rounded-lg bg-dance-gold/20 border border-dance-gold/30">
                        <i class="fas fa-trophy text-dance-gold text-xl"></i>
                    </div>
                    <div class="ml-4">
                        <p class="text-sm font-medium text-gray-300">Competition Ready</p>
                        <p class="text-2xl font-bold text-white">9</p>
                    </div>
                </div>
            </div>

            <div class="bg-white/10 backdrop-blur-md rounded-2xl border border-white/20 p-6">
                <div class="flex items-center">
                    <div class="p-3 rounded-lg bg-dance-purple/20 border border-dance-purple/30">
                        <i class="fas fa-calendar-alt text-dance-purple text-xl"></i>
                    </div>
                    <div class="ml-4">
                        <p class="text-sm font-medium text-gray-300">Active Entries</p>
                        <p class="text-2xl font-bold text-white">18</p>
                    </div>
                </div>
            </div>

            <div class="bg-white/10 backdrop-blur-md rounded-2xl border border-white/20 p-6">
                <div class="flex items-center">
                    <div class="p-3 rounded-lg bg-dance-blue/20 border border-dance-blue/30">
                        <i class="fas fa-star text-dance-blue text-xl"></i>
                    </div>
                    <div class="ml-4">
                        <p class="text-sm font-medium text-gray-300">Avg Experience</p>
                        <p class="text-2xl font-bold text-white">4.2 yrs</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Search and Filter -->
        <div class="px-4 sm:px-0 mb-6">
            <div class="bg-white/10 backdrop-blur-md rounded-2xl border border-white/20 p-4">
                <div class="flex flex-wrap gap-4 items-center">
                    <div class="flex-1 min-w-64">
                        <div class="relative">
                            <i class="fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                            <input type="text" placeholder="Search dancers..." class="w-full bg-white/5 border border-white/20 rounded-lg pl-10 pr-4 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-dance-purple focus:border-transparent">
                        </div>
                    </div>
                    <div class="flex gap-3">
                        <select class="bg-white/5 border border-white/20 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-dance-purple focus:border-transparent">
                            <option value="">All Ages</option>
                            <option value="mini">Mini (7-8)</option>
                            <option value="prejunior">Pre-Junior (9-10)</option>
                            <option value="junior">Junior (11-12)</option>
                            <option value="teen">Teen (13-14)</option>
                            <option value="senior">Senior (15+)</option>
                        </select>
                        <select class="bg-white/5 border border-white/20 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-dance-purple focus:border-transparent">
                            <option value="">All Styles</option>
                            <option value="ballet">Ballet</option>
                            <option value="jazz">Jazz</option>
                            <option value="contemporary">Contemporary</option>
                            <option value="tap">Tap</option>
                            <option value="hiphop">Hip Hop</option>
                        </select>
                        <button class="bg-dance-purple/20 hover:bg-dance-purple/30 text-dance-purple border border-dance-purple/30 px-4 py-2 rounded-lg font-medium transition-all duration-200 flex items-center">
                            <i class="fas fa-filter mr-2"></i>
                            Filters
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Dancers Grid -->
        <div class="px-4 sm:px-0 grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
            <!-- Dancer Card 1 -->
            <div class="dancer-card bg-white/10 backdrop-blur-md rounded-2xl border border-white/20 p-6 hover:bg-white/15 transition-all duration-200"
                 data-name="Emma Sullivan" data-age="13" data-style="Ballet" data-experience="6">
                <div class="flex items-start justify-between mb-4">
                    <div class="flex items-center space-x-3">
                        <div class="h-12 w-12 bg-gradient-to-br from-dance-pink to-dance-purple rounded-full flex items-center justify-center text-white font-bold text-lg">
                            ES
                        </div>
                        <div>
                            <h3 class="text-lg font-semibold text-white">Emma Sullivan</h3>
                            <p class="text-sm text-gray-300">Age 13 â€¢ Junior</p>
                        </div>
                    </div>
                    <div class="flex space-x-2">
                        <button class="edit-dancer text-gray-400 hover:text-white transition-colors" data-dancer="Emma Sullivan">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="delete-dancer text-gray-400 hover:text-red-400 transition-colors" data-dancer="Emma Sullivan">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </div>

                <div class="space-y-2 mb-4">
                    <div class="flex justify-between text-sm">
                        <span class="text-gray-300">Primary Style:</span>
                        <span class="text-white font-medium">Ballet</span>
                    </div>
                    <div class="flex justify-between text-sm">
                        <span class="text-gray-300">Experience:</span>
                        <span class="text-white font-medium">6 years</span>
                    </div>
                    <div class="flex justify-between text-sm">
                        <span class="text-gray-300">Competitions:</span>
                        <span class="text-white font-medium">12</span>
                    </div>
                </div>

                <div class="flex flex-wrap gap-2 mb-4">
                    <span class="bg-dance-pink/20 text-dance-pink px-2 py-1 rounded-full text-xs border border-dance-pink/30">Ballet</span>
                    <span class="bg-dance-purple/20 text-dance-purple px-2 py-1 rounded-full text-xs border border-dance-purple/30">Contemporary</span>
                </div>

                <div class="flex space-x-2">
                    <button class="flex-1 bg-dance-purple/20 hover:bg-dance-purple/30 text-dance-purple border border-dance-purple/30 px-3 py-2 rounded-lg font-medium text-sm transition-all duration-200">
                        View Profile
                    </button>
                    <button class="bg-gradient-to-r from-dance-purple to-dance-pink hover:from-dance-pink hover:to-dance-purple text-white px-3 py-2 rounded-lg font-medium text-sm transition-all duration-200">
                        Add Entry
                    </button>
                </div>
            </div>

            <!-- Dancer Card 2 -->
            <div class="dancer-card bg-white/10 backdrop-blur-md rounded-2xl border border-white/20 p-6 hover:bg-white/15 transition-all duration-200"
                 data-name="Maya Singh" data-age="15" data-style="Jazz" data-experience="8">
                <div class="flex items-start justify-between mb-4">
                    <div class="flex items-center space-x-3">
                        <div class="h-12 w-12 bg-gradient-to-br from-dance-gold to-dance-pink rounded-full flex items-center justify-center text-white font-bold text-lg">
                            MS
                        </div>
                        <div>
                            <h3 class="text-lg font-semibold text-white">Maya Singh</h3>
                            <p class="text-sm text-gray-300">Age 15 â€¢ Senior</p>
                        </div>
                    </div>
                    <div class="flex space-x-2">
                        <button class="edit-dancer text-gray-400 hover:text-white transition-colors" data-dancer="Maya Singh">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="delete-dancer text-gray-400 hover:text-red-400 transition-colors" data-dancer="Maya Singh">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </div>

                <div class="space-y-2 mb-4">
                    <div class="flex justify-between text-sm">
                        <span class="text-gray-300">Primary Style:</span>
                        <span class="text-white font-medium">Jazz</span>
                    </div>
                    <div class="flex justify-between text-sm">
                        <span class="text-gray-300">Experience:</span>
                        <span class="text-white font-medium">8 years</span>
                    </div>
                    <div class="flex justify-between text-sm">
                        <span class="text-gray-300">Competitions:</span>
                        <span class="text-white font-medium">18</span>
                    </div>
                </div>

                <div class="flex flex-wrap gap-2 mb-4">
                    <span class="bg-dance-gold/20 text-dance-gold px-2 py-1 rounded-full text-xs border border-dance-gold/30">Jazz</span>
                    <span class="bg-dance-pink/20 text-dance-pink px-2 py-1 rounded-full text-xs border border-dance-pink/30">Tap</span>
                    <span class="bg-dance-blue/20 text-dance-blue px-2 py-1 rounded-full text-xs border border-dance-blue/30">Hip Hop</span>
                </div>

                <div class="flex space-x-2">
                    <button class="flex-1 bg-dance-purple/20 hover:bg-dance-purple/30 text-dance-purple border border-dance-purple/30 px-3 py-2 rounded-lg font-medium text-sm transition-all duration-200">
                        View Profile
                    </button>
                    <button class="bg-gradient-to-r from-dance-purple to-dance-pink hover:from-dance-pink hover:to-dance-purple text-white px-3 py-2 rounded-lg font-medium text-sm transition-all duration-200">
                        Add Entry
                    </button>
                </div>
            </div>

            <!-- Dancer Card 3 -->
            <div class="dancer-card bg-white/10 backdrop-blur-md rounded-2xl border border-white/20 p-6 hover:bg-white/15 transition-all duration-200"
                 data-name="Ava Rodriguez" data-age="11" data-style="Contemporary" data-experience="4">
                <div class="flex items-start justify-between mb-4">
                    <div class="flex items-center space-x-3">
                        <div class="h-12 w-12 bg-gradient-to-br from-dance-blue to-dance-purple rounded-full flex items-center justify-center text-white font-bold text-lg">
                            AR
                        </div>
                        <div>
                            <h3 class="text-lg font-semibold text-white">Ava Rodriguez</h3>
                            <p class="text-sm text-gray-300">Age 11 â€¢ Junior</p>
                        </div>
                    </div>
                    <div class="flex space-x-2">
                        <button class="edit-dancer text-gray-400 hover:text-white transition-colors" data-dancer="Ava Rodriguez">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="delete-dancer text-gray-400 hover:text-red-400 transition-colors" data-dancer="Ava Rodriguez">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                </div>

                <div class="space-y-2 mb-4">
                    <div class="flex justify-between text-sm">
                        <span class="text-gray-300">Primary Style:</span>
                        <span class="text-white font-medium">Contemporary</span>
                    </div>
                    <div class="flex justify-between text-sm">
                        <span class="text-gray-300">Experience:</span>
                        <span class="text-white font-medium">4 years</span>
                    </div>
                    <div class="flex justify-between text-sm">
                        <span class="text-gray-300">Competitions:</span>
                        <span class="text-white font-medium">8</span>
                    </div>
                </div>

                <div class="flex flex-wrap gap-2 mb-4">
                    <span class="bg-dance-purple/20 text-dance-purple px-2 py-1 rounded-full text-xs border border-dance-purple/30">Contemporary</span>
                    <span class="bg-dance-pink/20 text-dance-pink px-2 py-1 rounded-full text-xs border border-dance-pink/30">Lyrical</span>
                </div>

                <div class="flex space-x-2">
                    <button class="flex-1 bg-dance-purple/20 hover:bg-dance-purple/30 text-dance-purple border border-dance-purple/30 px-3 py-2 rounded-lg font-medium text-sm transition-all duration-200">
                        View Profile
                    </button>
                    <button class="bg-gradient-to-r from-dance-purple to-dance-pink hover:from-dance-pink hover:to-dance-purple text-white px-3 py-2 rounded-lg font-medium text-sm transition-all duration-200">
                        Add Entry
                    </button>
                </div>
            </div>

            <!-- Load More Dancers Card -->
            <div class="bg-white/5 backdrop-blur-md rounded-2xl border border-white/10 border-dashed p-6 flex flex-col items-center justify-center text-center hover:bg-white/10 transition-all duration-200 cursor-pointer">
                <div class="mb-4">
                    <div class="h-16 w-16 bg-white/10 rounded-full flex items-center justify-center mx-auto mb-3">
                        <i class="fas fa-plus text-white text-xl"></i>
                    </div>
                    <h3 class="text-lg font-semibold text-white mb-2">9 More Dancers</h3>
                    <p class="text-sm text-gray-400">Click to view all 12 dancers</p>
                </div>
                <button class="bg-gradient-to-r from-dance-purple to-dance-pink hover:from-dance-pink hover:to-dance-purple text-white px-4 py-2 rounded-lg font-medium text-sm transition-all duration-200">
                    View All
                </button>
            </div>
        </div>

        <!-- Quick Actions -->
        <div class="px-4 sm:px-0">
            <div class="bg-white/10 backdrop-blur-md rounded-2xl border border-white/20 p-6">
                <h3 class="text-xl font-semibold text-white mb-4 flex items-center">
                    <i class="fas fa-bolt mr-3 text-dance-gold"></i>
                    Quick Actions
                </h3>
                <div class="grid md:grid-cols-3 gap-4">
                    <button class="bg-white/5 hover:bg-white/10 border border-white/20 rounded-lg p-4 text-left transition-all duration-200 group">
                        <div class="flex items-center space-x-3">
                            <div class="p-2 rounded-lg bg-dance-purple/20 border border-dance-purple/30 group-hover:bg-dance-purple/30">
                                <i class="fas fa-file-import text-dance-purple"></i>
                            </div>
                            <div>
                                <h4 class="font-medium text-white">Import from CSV</h4>
                                <p class="text-sm text-gray-400">Add multiple dancers at once</p>
                            </div>
                        </div>
                    </button>

                    <button class="bg-white/5 hover:bg-white/10 border border-white/20 rounded-lg p-4 text-left transition-all duration-200 group">
                        <div class="flex items-center space-x-3">
                            <div class="p-2 rounded-lg bg-dance-gold/20 border border-dance-gold/30 group-hover:bg-dance-gold/30">
                                <i class="fas fa-calendar-plus text-dance-gold"></i>
                            </div>
                            <div>
                                <h4 class="font-medium text-white">Bulk Entry Creation</h4>
                                <p class="text-sm text-gray-400">Create entries for multiple dancers</p>
                            </div>
                        </div>
                    </button>

                    <button class="bg-white/5 hover:bg-white/10 border border-white/20 rounded-lg p-4 text-left transition-all duration-200 group">
                        <div class="flex items-center space-x-3">
                            <div class="p-2 rounded-lg bg-dance-pink/20 border border-dance-pink/30 group-hover:bg-dance-pink/30">
                                <i class="fas fa-file-export text-dance-pink"></i>
                            </div>
                            <div>
                                <h4 class="font-medium text-white">Export Dancer List</h4>
                                <p class="text-sm text-gray-400">Download dancer information</p>
                            </div>
                        </div>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Add Dancer Modal -->
    <div id="addDancerModal" class="fixed inset-0 bg-black/50 backdrop-blur-sm hidden z-50">
        <div class="flex items-center justify-center min-h-full px-4">
            <div class="bg-white/10 backdrop-blur-md rounded-2xl border border-white/20 p-8 max-w-md w-full mx-4">
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-xl font-semibold text-white">Add New Dancer</h2>
                <button id="closeModalBtn" class="text-gray-400 hover:text-white">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>

            <form id="addDancerForm" class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-gray-300 mb-2">Dancer Name *</label>
                    <input type="text" id="dancerName" required class="w-full bg-white/10 border border-white/20 rounded-lg px-4 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-dance-purple/50 focus:border-transparent" placeholder="Enter dancer's full name">
                </div>

                <div>
                    <label class="block text-sm font-medium text-gray-300 mb-2">Date of Birth *</label>
                    <input type="date" id="dancerDOB" required class="w-full bg-white/10 border border-white/20 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-dance-purple/50 focus:border-transparent">
                </div>

                <div>
                    <label class="block text-sm font-medium text-gray-300 mb-2">Age Override (optional)</label>
                    <input type="number" id="ageOverride" min="5" max="25" class="w-full bg-white/10 border border-white/20 rounded-lg px-4 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-dance-purple/50 focus:border-transparent" placeholder="Leave blank to auto-calculate">
                </div>

                <div>
                    <label class="block text-sm font-medium text-gray-300 mb-2">Primary Dance Style</label>
                    <select id="danceStyle" class="w-full bg-white/10 border border-white/20 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-dance-purple/50 focus:border-transparent">
                        <option value="">Select primary style</option>
                        <option value="Ballet">Ballet</option>
                        <option value="Jazz">Jazz</option>
                        <option value="Contemporary">Contemporary</option>
                        <option value="Hip Hop">Hip Hop</option>
                        <option value="Tap">Tap</option>
                        <option value="Lyrical">Lyrical</option>
                        <option value="Musical Theatre">Musical Theatre</option>
                    </select>
                </div>

                <div class="flex space-x-3 pt-4">
                    <button type="button" id="cancelBtn" class="flex-1 bg-white/10 hover:bg-white/20 text-white border border-white/20 px-4 py-2 rounded-lg font-medium transition-all duration-200">
                        Cancel
                    </button>
                    <button type="submit" class="flex-1 bg-gradient-to-r from-dance-purple to-dance-pink hover:from-dance-pink hover:to-dance-purple text-white px-4 py-2 rounded-lg font-medium transition-all duration-200">
                        Add Dancer
                    </button>
                </div>
            </form>
            </div>
        </div>
    </div>

    <!-- JavaScript for interactivity -->
    <script>
        // Search functionality
        document.addEventListener('DOMContentLoaded', function() {
            const searchInput = document.querySelector('input[placeholder="Search dancers..."]');
            const dancerCards = document.querySelectorAll('.bg-white\\/10.backdrop-blur-md.rounded-2xl.border.border-white\\/20.p-6.hover\\:bg-white\\/15');

            searchInput?.addEventListener('input', function(e) {
                const searchTerm = e.target.value.toLowerCase();
                dancerCards.forEach(card => {
                    const dancerName = card.querySelector('h3')?.textContent.toLowerCase();
                    if (dancerName?.includes(searchTerm) || searchTerm === '') {
                        card.style.display = 'block';
                    } else {
                        card.style.display = 'none';
                    }
                });
            });

            // Add hover effects for cards
            dancerCards.forEach(card => {
                card.addEventListener('mouseenter', function() {
                    this.style.transform = 'translateY(-2px)';
                });

                card.addEventListener('mouseleave', function() {
                    this.style.transform = 'translateY(0)';
                });
            });

            // Add Dancer Modal functionality
            const addDancerBtn = document.getElementById('addDancerBtn');
            const addDancerModal = document.getElementById('addDancerModal');
            const closeModalBtn = document.getElementById('closeModalBtn');
            const cancelBtn = document.getElementById('cancelBtn');
            const addDancerForm = document.getElementById('addDancerForm');

            // Open modal
            addDancerBtn?.addEventListener('click', function() {
                addDancerModal.classList.remove('hidden');
                addDancerModal.style.display = 'flex';
                document.body.style.overflow = 'hidden';
            });

            // Close modal functions
            function closeModal() {
                addDancerModal.classList.add('hidden');
                addDancerModal.style.display = 'none';
                document.body.style.overflow = 'auto';
                addDancerForm.reset();
            }

            closeModalBtn?.addEventListener('click', closeModal);
            cancelBtn?.addEventListener('click', closeModal);

            // Close modal when clicking outside
            addDancerModal?.addEventListener('click', function(e) {
                if (e.target === addDancerModal) {
                    closeModal();
                }
            });

            // Handle form submission with Supabase integration
            addDancerForm?.addEventListener('submit', async function(e) {
                e.preventDefault();

                const formData = {
                    name: document.getElementById('dancerName').value,
                    dateOfBirth: document.getElementById('dancerDOB').value,
                    ageOverride: document.getElementById('ageOverride').value,
                    primaryStyle: document.getElementById('danceStyle').value
                };

                // Calculate age using helper function
                const age = window.GlowDanceDB?.helpers.calculateAge(
                    formData.dateOfBirth,
                    formData.ageOverride
                ) || 0;

                try {
                    // Show loading state
                    const submitBtn = addDancerForm.querySelector('button[type="submit"]');
                    const originalText = submitBtn.textContent;
                    submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i>Saving...';
                    submitBtn.disabled = true;

                    // Format data for database using schema helper
                    const dbData = window.GlowDanceDB?.helpers.formatDancerForDB(formData);

                    // Save to Supabase (demo)
                    const result = await window.GlowDanceDB?.client.insertDancer(dbData);

                    if (result?.error) {
                        throw new Error(result.error.message);
                    }

                    // Success message with database integration context
                    alert(`âœ… Dancer "${formData.name}" saved successfully!\n\nðŸ“Š Details:\nâ€¢ Age: ${age}\nâ€¢ Primary Style: ${formData.primaryStyle || 'Not specified'}\nâ€¢ Database ID: ${result.data?.id || 'demo-id'}\n\nðŸ’¾ Data saved to Supabase with schema validation`);

                    closeModal();

                    // In production, would refresh dancer list from database
                    console.log('ðŸŽ­ Production: Would refresh dancer cards from Supabase');

                } catch (error) {
                    alert(`âŒ Error saving dancer: ${error.message}\n\nPlease check the console for details.`);
                    console.error('Supabase error:', error);
                } finally {
                    // Restore button state
                    const submitBtn = addDancerForm.querySelector('button[type="submit"]');
                    submitBtn.textContent = originalText;
                    submitBtn.disabled = false;
                }
            });

            // Sorting functionality
            const sortDropdown = document.getElementById('sortDancers');
            const dancerContainer = document.querySelector('.grid.md\\:grid-cols-2.lg\\:grid-cols-3.gap-6');

            sortDropdown?.addEventListener('change', function() {
                const sortBy = this.value;
                const dancerCards = Array.from(document.querySelectorAll('.dancer-card'));

                dancerCards.sort((a, b) => {
                    let aValue, bValue;

                    switch(sortBy) {
                        case 'name':
                            aValue = a.dataset.name;
                            bValue = b.dataset.name;
                            return aValue.localeCompare(bValue);
                        case 'age':
                            aValue = parseInt(a.dataset.age);
                            bValue = parseInt(b.dataset.age);
                            return aValue - bValue;
                        case 'style':
                            aValue = a.dataset.style;
                            bValue = b.dataset.style;
                            return aValue.localeCompare(bValue);
                        case 'experience':
                            aValue = parseInt(a.dataset.experience);
                            bValue = parseInt(b.dataset.experience);
                            return bValue - aValue; // Descending for experience
                        default:
                            return 0;
                    }
                });

                // Re-append sorted cards
                dancerCards.forEach(card => {
                    dancerContainer?.appendChild(card);
                });

                // Add visual feedback
                dancerCards.forEach((card, index) => {
                    setTimeout(() => {
                        card.style.transform = 'scale(0.95)';
                        setTimeout(() => {
                            card.style.transform = 'scale(1)';
                        }, 100);
                    }, index * 50);
                });
            });

            // Edit dancer functionality
            document.querySelectorAll('.edit-dancer').forEach(button => {
                button.addEventListener('click', function() {
                    const dancerName = this.dataset.dancer;
                    alert(`Edit dancer: ${dancerName}\n\nIn a production app, this would open an edit form with the dancer's current information pre-filled.`);
                });
            });

            // Delete dancer functionality
            document.querySelectorAll('.delete-dancer').forEach(button => {
                button.addEventListener('click', function() {
                    const dancerName = this.dataset.dancer;
                    if (confirm(`Are you sure you want to delete ${dancerName}?\n\nThis action cannot be undone.`)) {
                        const card = this.closest('.dancer-card');
                        card.style.transform = 'scale(0.95)';
                        card.style.opacity = '0.5';

                        setTimeout(() => {
                            card.style.display = 'none';
                            alert(`${dancerName} has been deleted.\n\nIn a production app, this would remove the dancer from the database.`);
                        }, 300);
                    }
                });
            });
        });
    </script>
</body>
</html>